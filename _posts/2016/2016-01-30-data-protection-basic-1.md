---
layout: post
title: Data Protection Basic - 1
description: 数据保护系列文章。介绍什么是数据保护。数据保护的主要手段之一，备份的基本概念。
categories:
- [Chinese, Software, Hardware]
tags:
- [backup, data protection, file system, virtualization, storage, cloud]
---

>本文首发于<http://oliveryang.net>. 转载时请包含原文或者作者网站链接。

## 数据保护的那点儿事儿

数据保护就是保护数据使其免于数据损坏(Data Corruption)和数据丢失(Data Loss)的过程。
常见的数据保护方式主要有以下两大类，

- **备份(Backup)**

  备份是指为了应对数据丢失(data loss)而将计算机数据进行拷贝和归档的过程。
  根据数据保存时间和目的，广义上的备份又可以细分为备份(Backup)和归档(Archive)。
  归档存储系统，因为其数据访问热度，有时又被称为冷存储(Cold Storage)。

- **灾难恢复(Disaster Recovery)**

  灾难恢复为重要的IT基础设施和系统提供了在自然或人为灾害之后能够恢复业务连续性的技术策略和手段。
  灾难恢复是IT基础设施业务连续性
  ([Business Continuity](https://en.wikipedia.org/wiki/Business_continuity))
  方案中重要的一环。

本篇文章主要关注数据保护技术中备份的基本概念。

### 1. 备份存储

数据备份操作通常有不同的操作方式，

- 手工或者定制的自动化脚本
- 通用备份软件

不论是哪种方式，都需要决定数据最终存放的介质，即备份存储。

通常备份存储都被归类为数据保护存储(Data Protection Storage)，本文并不做区分。
备份存储设备通常可以根据存储介质或者备份数据的管理方式去分类。

#### 1.1 按照存储介质分类

按照备份数据的目标存储介质，备份存储可以分为，

- **磁带(Tape)存储**

  历史悠久，使用最广泛的备份存储。优点是可靠，廉价。缺点是性能差，不适合随机读
  写，而且存储密度低。磁带库的机械故障和占用空间都使得磁带存储的总体拥有成本
  (TCO)变得很高。

- **磁盘(Hard Disk)存储**

  磁盘的优点是性能和高存储密度。缺点是寿命和价格都不如磁带。然而，磁盘备份存储厂商通过利用技术手段
  (RAID，CRC校验，Data Scrubing，Deduplication，Compress)一定程度上克服了磁盘备份系统的不足。
  因此，磁盘备份系统在需要性能保证的备份和恢复的业务场景有很大的竞争力。但是在长期数据归档方面，
  还很难完全取代磁带。例如，磁带做归档可以做到离线，但磁盘不能，因为需要定期加电做数据校验。

- **光(Optical)存储**

  从早期的CD和DVD，到目前的蓝光，光存储因为介质的稳定和廉价被广泛的应用在归档系统，
  即冷存储领域。据说，Facebook就是利用蓝光系统实现其冷存储系统的。

- **闪存(SSD)存储**

  闪存的性能优势很明显。而且，由于闪存不包含磁盘那样的机械部件，在寿命和抗震性上都要优于磁盘。
  目前闪存做备份存储最大的障碍是两个，价格和数据可靠性。根据工业界的预测，未来几年闪存价格马上要追上磁盘价格。
  此外，闪存长时间不加电存放数据会丢失的情况可以利用一定的数据纠错算法来弥补，
  也就是说可以通过牺牲一定的空间来换取存储数据的可靠性。因此，未来磁盘备份系统全面被全闪存备份系统取代也并非痴人说梦。

#### 1.2 按照数据管理方式分类

按照数据管理的生命周期，备份存储可以分为，

- **在线(On-line)备份存储**

  在线备份存储可以选用主存储(Primary Storage)或者次级存储(Secondary Storage)。
  主存储虽然能提供很高性能的数据备份方式(如快照)，但时因为成本和数据隔离的需求，
  拥有一份以上的多个数据拷贝是备份的基本需求。因此，专业的次级备份存储在在线备份存储里才是主流。

- **离线(Off-line)备份存储**

  离线备份因为可以提供更可靠的隔离性和更低的维护成本而成为不可取代的备份选择。
  备份存储在线就意味着误操作或者其它安全事件随时可以威胁到备份数据的安全。
  而数据备份后离线存放可以彻底保证数据的安全隔离要求。

- **异地(Off-site)备份存储**

  为了抵御不同级别的天灾或者人祸。更高级别的灾备方案可能会有不同距离的异地备份要求。
  异地备份也可以通过同步或者异步地在线复制(Replication)或者离线运输备份介质的不同方式来实现。
  很多备份存储和备份软件都支持不同RPO的远程复制功能。而离线的备份介质运输虽然很古老，
  但是还是出现了一些新的创新，例如亚马逊最近推出的
  [Snowball服务](http://docs.aws.amazon.com/AWSImportExport/latest/DG/whatissnowball.html)。

正因为备份存储的多样性，有了数据的多个拷贝，多个历史版本，还有多个物理分布，
才使得不同的灾备计划可以抵御不同级别的自然灾害，人为灾害，软硬件故障和误操作。
备份计划，方法，还有基础设施的选择也和业务的连续性要求以及灾备预算密切相关。

### 2. 备份的那些概念

TBD

- **Backup window**

- **RPO**

- **RTO**

- **Backup methods**

### 3. 备份相关的产品

TBD
